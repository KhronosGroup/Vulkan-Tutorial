<?xml version="1.0" encoding="UTF-8"?>
<svg width="600" height="700" xmlns="http://www.w3.org/2000/svg">
  <!-- Rendering Pipeline Flowchart -->
  <style>
    .stage { fill: #e6f2ff; stroke: #0066cc; stroke-width: 2; }
    .component { fill: #fff2e6; stroke: #ff8c1a; stroke-width: 2; }
    .technique { fill: #e6ffe6; stroke: #339933; stroke-width: 2; }
    .resource { fill: #f2e6ff; stroke: #8c1aff; stroke-width: 2; }
    .text { font-family: Arial; font-size: 14px; text-anchor: middle; }
    .title-text { font-family: Arial; font-size: 16px; font-weight: bold; text-anchor: middle; }
    .main-title { font-family: Arial; font-size: 20px; font-weight: bold; text-anchor: middle; }
    .arrow { stroke: #555; stroke-width: 2; marker-end: url(#arrowhead); }
    .dashed { stroke-dasharray: 5,5; }
    .legend-text { font-family: Arial; font-size: 12px; text-anchor: start; }
    .description { font-family: Arial; font-size: 12px; text-anchor: middle; }
  </style>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#555" />
    </marker>
  </defs>

  <text x="300" y="30" class="main-title">Vulkan Rendering Pipeline</text>

  <!-- Scene Data -->
  <rect x="200" y="60" width="200" height="40" rx="5" class="resource" />
  <text x="300" y="85" class="title-text">Scene Data</text>

  <!-- Stage 1: Scene Culling -->
  <rect x="200" y="130" width="200" height="50" rx="5" class="stage" />
  <text x="300" y="155" class="title-text">Scene Culling</text>
  <text x="300" y="175" class="description">Determine visible objects</text>

  <!-- Visible Objects -->
  <rect x="200" y="210" width="200" height="40" rx="5" class="resource" />
  <text x="300" y="235" class="title-text">Visible Objects</text>

  <!-- Stage 2: Render Pass Management -->
  <rect x="200" y="280" width="200" height="50" rx="5" class="stage" />
  <text x="300" y="305" class="title-text">Render Pass Management</text>
  <text x="300" y="325" class="description">Organize rendering passes</text>

  <!-- Rendergraph Component -->
  <rect x="50" y="280" width="120" height="50" rx="5" class="component" />
  <text x="110" y="305" class="title-text">Rendergraph</text>
  <text x="110" y="325" class="description">Manage dependencies</text>

  <!-- Synchronization Component -->
  <rect x="430" y="280" width="120" height="50" rx="5" class="component" />
  <text x="490" y="305" class="title-text">Synchronization</text>
  <text x="490" y="325" class="description">Barriers, semaphores</text>

  <!-- Stage 3: Command Generation -->
  <rect x="200" y="360" width="200" height="50" rx="5" class="stage" />
  <text x="300" y="385" class="title-text">Command Generation</text>
  <text x="300" y="405" class="description">Create GPU commands</text>

  <!-- Command Buffers -->
  <rect x="200" y="440" width="200" height="40" rx="5" class="resource" />
  <text x="300" y="465" class="title-text">Command Buffers</text>

  <!-- Stage 4: Execution -->
  <rect x="200" y="510" width="200" height="50" rx="5" class="stage" />
  <text x="300" y="535" class="title-text">Execution</text>
  <text x="300" y="555" class="description">Submit to GPU queue</text>

  <!-- Stage 5: Post-Processing -->
  <rect x="200" y="590" width="200" height="50" rx="5" class="stage" />
  <text x="300" y="615" class="title-text">Post-Processing</text>
  <text x="300" y="635" class="description">Apply visual effects</text>

  <!-- Rendering Techniques -->
  <rect x="50" y="510" width="120" height="40" rx="5" class="technique" />
  <text x="110" y="535" class="title-text">Deferred</text>

  <rect x="50" y="560" width="120" height="40" rx="5" class="technique" />
  <text x="110" y="585" class="title-text">Forward+</text>

  <rect x="50" y="610" width="120" height="40" rx="5" class="technique" />
  <text x="110" y="635" class="title-text">PBR</text>

  <!-- Final Image -->
  <rect x="430" y="590" width="120" height="40" rx="5" class="resource" />
  <text x="490" y="615" class="title-text">Final Image</text>

  <!-- Arrows connecting the stages -->
  <line x1="300" y1="100" x2="300" y2="130" class="arrow" />
  <line x1="300" y1="180" x2="300" y2="210" class="arrow" />
  <line x1="300" y1="250" x2="300" y2="280" class="arrow" />
  <line x1="300" y1="330" x2="300" y2="360" class="arrow" />
  <line x1="300" y1="410" x2="300" y2="440" class="arrow" />
  <line x1="300" y1="480" x2="300" y2="510" class="arrow" />
  <line x1="300" y1="560" x2="300" y2="590" class="arrow" />

  <!-- Arrows from components to stages -->
  <line x1="170" y1="305" x2="200" y2="305" class="arrow" />
  <line x1="430" y1="305" x2="400" y2="305" class="arrow" />

  <!-- Arrows from techniques to execution -->
  <line x1="170" y1="530" x2="200" y2="535" class="arrow dashed" />
  <line x1="170" y1="580" x2="200" y2="535" class="arrow dashed" />
  <line x1="170" y1="630" x2="200" y2="615" class="arrow dashed" />

  <!-- Arrow to final image -->
  <line x1="400" y1="615" x2="430" y2="615" class="arrow" />

  <!-- Legend/Key -->
  <rect x="150" y="660" width="300" height="30" rx="5" fill="#ffffff" stroke="#000000" stroke-width="1" />
  <text x="300" y="675" class="title-text">Legend</text>

  <!-- Stage legend item -->
  <rect x="160" y="685" width="20" height="15" rx="2" class="stage" />
  <text x="185" y="697" class="legend-text">Pipeline Stage</text>

  <!-- Component legend item -->
  <rect x="260" y="685" width="20" height="15" rx="2" class="component" />
  <text x="285" y="697" class="legend-text">Component</text>

  <!-- Technique legend item -->
  <rect x="360" y="685" width="20" height="15" rx="2" class="technique" />
  <text x="385" y="697" class="legend-text">Technique</text>

  <!-- Resource legend item -->
  <rect x="460" y="685" width="20" height="15" rx="2" class="resource" />
  <text x="485" y="697" class="legend-text">Resource</text>
</svg>
