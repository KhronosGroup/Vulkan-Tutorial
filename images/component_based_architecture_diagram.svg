<?xml version="1.0" encoding="UTF-8"?>
<svg width="600" height="500" xmlns="http://www.w3.org/2000/svg">
  <!-- Component-Based Architecture Diagram -->
  <style>
    .entity { fill: #e6f2ff; stroke: #0066cc; stroke-width: 2; }
    .component { fill: #fff2e6; stroke: #ff8c1a; stroke-width: 2; }
    .system { fill: #e6ffe6; stroke: #339933; stroke-width: 2; }
    .text { font-family: Arial; font-size: 14px; text-anchor: middle; }
    .title-text { font-family: Arial; font-size: 16px; font-weight: bold; text-anchor: middle; }
    .main-title { font-family: Arial; font-size: 20px; font-weight: bold; text-anchor: middle; }
    .arrow { stroke: #555; stroke-width: 2; marker-end: url(#arrowhead); }
    .dashed { stroke-dasharray: 5,5; }
    .legend-text { font-family: Arial; font-size: 12px; text-anchor: start; }
  </style>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#555" />
    </marker>
  </defs>

  <text x="300" y="30" class="main-title">Component-Based Architecture</text>

  <!-- Entity 1 -->
  <rect x="50" y="70" width="120" height="40" rx="5" class="entity" />
  <text x="110" y="95" class="title-text">Entity 1</text>

  <!-- Entity 1's Components - Centered -->
  <rect x="70" y="130" width="80" height="30" rx="5" class="component" />
  <text x="110" y="150" class="text">Transform</text>

  <rect x="70" y="170" width="80" height="30" rx="5" class="component" />
  <text x="110" y="190" class="text">Mesh</text>

  <rect x="70" y="210" width="80" height="30" rx="5" class="component" />
  <text x="110" y="230" class="text">Physics</text>

  <!-- Entity 2 -->
  <rect x="240" y="70" width="120" height="40" rx="5" class="entity" />
  <text x="300" y="95" class="title-text">Entity 2</text>

  <!-- Entity 2's Components - Centered -->
  <rect x="220" y="130" width="80" height="30" rx="5" class="component" />
  <text x="260" y="150" class="text">Transform</text>

  <rect x="220" y="170" width="80" height="30" rx="5" class="component" />
  <text x="260" y="190" class="text">Audio</text>

  <rect x="300" y="130" width="80" height="30" rx="5" class="component" />
  <text x="340" y="150" class="text">AI</text>

  <!-- Entity 3 -->
  <rect x="430" y="70" width="120" height="40" rx="5" class="entity" />
  <text x="490" y="95" class="title-text">Entity 3</text>

  <!-- Entity 3's Components - Centered -->
  <rect x="430" y="130" width="80" height="30" rx="5" class="component" />
  <text x="470" y="150" class="text">Transform</text>

  <rect x="430" y="170" width="80" height="30" rx="5" class="component" />
  <text x="470" y="190" class="text">Mesh</text>

  <rect x="510" y="130" width="80" height="30" rx="5" class="component" />
  <text x="550" y="150" class="text">Light</text>

  <!-- Systems -->
  <rect x="70" y="290" width="140" height="40" rx="5" class="system" />
  <text x="140" y="315" class="title-text">Render System</text>

  <rect x="230" y="290" width="140" height="40" rx="5" class="system" />
  <text x="300" y="315" class="title-text">Physics System</text>

  <rect x="390" y="290" width="140" height="40" rx="5" class="system" />
  <text x="460" y="315" class="title-text">Audio System</text>

  <!-- Arrows from components to systems -->
  <line x1="110" y1="200" x2="140" y2="290" class="arrow" />
  <line x1="470" y1="200" x2="140" y2="290" class="arrow" />

  <line x1="110" y1="240" x2="300" y2="290" class="arrow" />

  <line x1="260" y1="200" x2="460" y2="290" class="arrow" />

  <!-- Explanation -->
  <text x="300" y="370" class="text">Systems process entities with specific components</text>
  <text x="300" y="390" class="text">Components define entity behavior and data</text>
  <text x="300" y="410" class="text">Entities are just containers for components</text>

  <!-- Connection lines from entities to components -->
  <line x1="110" y1="110" x2="110" y2="130" class="arrow dashed" />
  <line x1="110" y1="110" x2="110" y2="170" class="arrow dashed" />
  <line x1="110" y1="110" x2="110" y2="210" class="arrow dashed" />

  <line x1="300" y1="110" x2="260" y2="130" class="arrow dashed" />
  <line x1="300" y1="110" x2="260" y2="170" class="arrow dashed" />
  <line x1="300" y1="110" x2="340" y2="130" class="arrow dashed" />

  <line x1="490" y1="110" x2="470" y2="130" class="arrow dashed" />
  <line x1="490" y1="110" x2="470" y2="170" class="arrow dashed" />
  <line x1="490" y1="110" x2="550" y2="130" class="arrow dashed" />

  <!-- Legend/Key -->
  <rect x="200" y="440" width="200" height="50" rx="5" fill="#ffffff" stroke="#000000" stroke-width="1" />
  <text x="300" y="455" class="title-text">Legend</text>

  <!-- Entity legend item -->
  <rect x="210" y="465" width="20" height="15" rx="2" class="entity" />
  <text x="235" y="477" class="legend-text">Entity</text>

  <!-- Component legend item -->
  <rect x="280" y="465" width="20" height="15" rx="2" class="component" />
  <text x="305" y="477" class="legend-text">Component</text>

  <!-- System legend item -->
  <rect x="350" y="465" width="20" height="15" rx="2" class="system" />
  <text x="375" y="477" class="legend-text">System</text>
</svg>
